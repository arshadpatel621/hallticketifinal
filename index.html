<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Inter:wght@300;400;500;600;700;800;900&amp;family=Poppins:wght@300;400;500;600;700;800;900"
    />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode/1.5.3/qrcode.min.js"></script>

    <title>EduConnect - Professional Hall Ticket Generator</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <div class="flex items-center space-x-2 sm:space-x-3">
            <!-- Back Button -->
            <button id="backButton" onclick="goBack()" class="back-button hidden btn btn-secondary text-sm sm:text-base mr-2 sm:mr-3" title="Go Back">
              <i class="fas fa-arrow-left mr-1 sm:mr-2"></i>
              <span class="hidden sm:inline">Back</span>
            </button>
            <div class="bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg">
              <i class="fas fa-graduation-cap text-white text-lg sm:text-xl"></i>
            </div>
            <h1 class="text-lg sm:text-xl lg:text-2xl font-bold text-gray-800">EduConnect</h1>
          </div>
          <div class="hidden md:flex items-center space-x-6 lg:space-x-8">
            <a href="#" onclick="showSection('home')" class="nav-link text-gray-700 hover:text-blue-600 font-medium transition-colors px-3 py-2">Home</a>
            <a href="#" onclick="showSection('engineering')" class="nav-link text-gray-700 hover:text-blue-600 font-medium transition-colors px-3 py-2">Engineering</a>
            <a href="#" onclick="showSection('generator')" class="nav-link text-gray-700 hover:text-blue-600 font-medium transition-colors px-3 py-2">Hall Ticket</a>
            <button class="btn btn-primary px-4 py-2 text-sm">Login</button>
          </div>
          <!-- Mobile menu button -->
          <div class="md:hidden">
            <button onclick="toggleMobileMenu()" class="p-2 text-gray-700 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg" id="mobileMenuBtn" aria-label="Toggle mobile menu">
              <i class="fas fa-bars text-xl"></i>
            </button>
          </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="mobile-menu hidden md:hidden">
          <div class="px-4 py-3 space-y-2">
            <a href="#" onclick="showSection('home'); closeMobileMenu()" class="nav-link block px-3 py-3 text-base font-medium rounded-lg">Home</a>
            <a href="#" onclick="showSection('engineering'); closeMobileMenu()" class="nav-link block px-3 py-3 text-base font-medium rounded-lg">Engineering</a>
            <a href="#" onclick="showSection('generator'); closeMobileMenu()" class="nav-link block px-3 py-3 text-base font-medium rounded-lg">Hall Ticket</a>
            <button class="btn btn-primary w-full mt-3">Login</button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="section">
      <!-- Hero Section -->
      <div class="gradient-bg text-white py-12 sm:py-16 lg:py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 leading-tight">Professional Hall Ticket Generator</h1>
          <p class="text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 opacity-90 max-w-4xl mx-auto">Create, customize, and manage hall tickets with ease</p>
            <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center max-w-md sm:max-w-none mx-auto">
            <button onclick="showSection('engineering')" class="btn bg-white text-blue-600 px-6 sm:px-8 py-3 text-base sm:text-lg font-semibold hover:bg-gray-100 transition-colors">
              <i class="fas fa-rocket mr-2"></i>Get Started
            </button>
            <button onclick="openLearnMore()" class="btn border-2 border-white text-white px-6 sm:px-8 py-3 text-base sm:text-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors">
              <i class="fas fa-info-circle mr-2"></i>Learn More
            </button>
          </div>
        </div>
      </div>

      <!-- Features Section -->
      <div class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-16">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">Why Choose EduConnect?</h2>
            <p class="text-xl text-gray-600">Streamline your hall ticket generation process</p>
          </div>
          <div class="grid md:grid-cols-3 gap-8">
            <div class="text-center p-6 bg-gray-50 rounded-xl card-hover">
              <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-bolt text-blue-600 text-2xl"></i>
              </div>
              <h3 class="text-xl font-bold text-gray-800 mb-3">Fast Generation</h3>
              <p class="text-gray-600">Generate hall tickets in seconds with our optimized system</p>
            </div>
            <div class="text-center p-6 bg-gray-50 rounded-xl card-hover">
              <div class="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-edit text-green-600 text-2xl"></i>
              </div>
              <h3 class="text-xl font-bold text-gray-800 mb-3">Customizable</h3>
              <p class="text-gray-600">Add logos, photos, and customize layouts to match your institution</p>
            </div>
            <div class="text-center p-6 bg-gray-50 rounded-xl card-hover">
              <div class="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-shield-alt text-purple-600 text-2xl"></i>
              </div>
              <h3 class="text-xl font-bold text-gray-800 mb-3">Secure</h3>
              <p class="text-gray-600">Your data is protected with enterprise-grade security</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Engineering Overview -->
      <div class="py-20 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-16">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">Engineering Departments</h2>
            <p class="text-xl text-gray-600 mb-8">Comprehensive coverage for all engineering branches</p>
            <button onclick="showSection('engineering')" class="bg-blue-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition-colors">
              View All Branches
            </button>
          </div>
          <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="bg-white p-6 rounded-xl shadow-md card-hover text-center">
              <i class="fas fa-microchip text-4xl text-blue-600 mb-4"></i>
              <h3 class="text-lg font-bold text-gray-800">Computer Science</h3>
              <p class="text-sm text-gray-600 mt-2">1,250+ Students</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md card-hover text-center">
              <i class="fas fa-cog text-4xl text-green-600 mb-4"></i>
              <h3 class="text-lg font-bold text-gray-800">Mechanical</h3>
              <p class="text-sm text-gray-600 mt-2">980+ Students</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md card-hover text-center">
              <i class="fas fa-bolt text-4xl text-yellow-600 mb-4"></i>
              <h3 class="text-lg font-bold text-gray-800">Electrical</h3>
              <p class="text-sm text-gray-600 mt-2">756+ Students</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-md card-hover text-center">
              <i class="fas fa-building text-4xl text-purple-600 mb-4"></i>
              <h3 class="text-lg font-bold text-gray-800">Civil</h3>
              <p class="text-sm text-gray-600 mt-2">645+ Students</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Engineering Section -->
    <section id="engineering" class="section hidden">
      <div class="py-12 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-12">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">Engineering Branches</h2>
            <p class="text-xl text-gray-600 mb-8">Select your engineering branch to continue</p>
            
            <!-- Branch Selection Button -->
            <div class="max-w-md mx-auto">
              <button onclick="openBranchPopup()" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center space-x-3">
                <i class="fas fa-graduation-cap text-xl"></i>
                <span>Select Engineering Branch</span>
                <i class="fas fa-chevron-down"></i>
              </button>
              
              <!-- Selected Branch Display (improved layout) -->
              <div id="selectedBranchDisplay" class="mt-4 p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 hidden">
                <div class="flex items-center justify-between gap-4 flex-wrap">
                  <div class="flex items-center gap-3 min-w-0">
                    <i id="selectedBranchIcon" class="fas fa-laptop-code text-2xl text-blue-600 flex-shrink-0"></i>
                    <div class="text-left min-w-0">
                      <p id="selectedBranchName" class="font-semibold text-gray-800 truncate">Selected Branch</p>
                      <p id="selectedBranchStudents" class="text-sm text-gray-600">0 Students</p>
                    </div>
                  </div>

                  <div class="mt-3 sm:mt-0 flex items-center gap-3">
                    <button onclick="proceedToYearSelection()" class="bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                      Continue
                      <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                    <button onclick="openAddBranchModal()" class="bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700" title="Add New Branch">
                      <i class="fas fa-plus"></i>
                    </button>
                    <button onclick="toggleDeleteMode()" id="deleteModeToggleInline" class="bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700" title="Toggle Delete Mode">
                      <i class="fas fa-trash-alt"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Branch Selection Popup Modal -->
    <div id="branchPopup" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
      <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
        <!-- Popup Header -->
        <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6">
          <div class="flex items-center justify-between">
            <h3 class="text-2xl font-bold flex items-center">
              <i class="fas fa-graduation-cap mr-3"></i>
              Select Engineering Branch
            </h3>
            <button onclick="closeBranchPopup()" class="text-white hover:text-gray-200 transition-colors">
              <i class="fas fa-times text-2xl"></i>
            </button>
          </div>
          
          <!-- Search Box -->
          <div class="mt-4">
            <div class="relative">
              <input type="text" id="branchSearch" placeholder="Search branches..." class="w-full px-4 py-3 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50" onkeyup="filterBranches()">
              <i class="fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            </div>
          </div>
        </div>
        
        <!-- Popup Content -->
        <div class="p-6 overflow-y-auto max-h-[60vh]">
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4" id="branchGrid">
            <!-- Branch cards will be populated by JavaScript -->
          </div>
          
          <!-- No Results Message -->
          <div id="noResults" class="hidden text-center py-12">
            <i class="fas fa-search text-6xl text-gray-300 mb-4"></i>
            <p class="text-xl text-gray-500">No branches found</p>
            <p class="text-gray-400">Try adjusting your search terms</p>
          </div>
        </div>
        
        <!-- Add New Branch and Delete Branch Buttons -->
        <div class="p-6 border-t border-gray-200">
          <div class="flex flex-col sm:flex-row gap-3">
            <button onclick="openAddBranchModal()" class="flex-1 bg-gradient-to-r from-green-600 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all duration-300 flex items-center justify-center space-x-2">
              <i class="fas fa-plus"></i>
              <span>Add New Branch</span>
            </button>
            <button onclick="toggleDeleteMode()" id="deleteModeToggle" class="flex-1 bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-lg font-semibold hover:from-red-700 hover:to-red-800 transition-all duration-300 flex items-center justify-center space-x-2">
              <i class="fas fa-trash-alt"></i>
              <span id="deleteModeText">Delete Branches</span>
            </button>
          </div>
          
          <!-- Delete Mode Instructions -->
          <div id="deleteModeInstructions" class="mt-3 p-3 bg-red-50 border border-red-200 rounded-lg hidden">
            <div class="flex items-center space-x-2 text-red-800">
              <i class="fas fa-info-circle"></i>
              <span class="text-sm font-medium">Delete Mode Active</span>
            </div>
            <p class="text-sm text-red-700 mt-1">Click on any branch card to delete it. Click "Exit Delete Mode" to return to normal selection.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Add New Branch Modal -->
    <div id="addBranchModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
      <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden">
        <!-- Modal Header -->
        <div class="bg-gradient-to-r from-green-600 to-blue-600 text-white p-6">
          <div class="flex items-center justify-between">
            <h3 class="text-xl font-bold flex items-center">
              <i class="fas fa-plus-circle mr-3"></i>
              Add New Branch
            </h3>
            <button onclick="closeAddBranchModal()" class="text-white hover:text-gray-200 transition-colors">
              <i class="fas fa-times text-xl"></i>
            </button>
          </div>
        </div>
        
        <!-- Modal Content -->
        <div class="p-6">
          <form id="addBranchForm" onsubmit="addNewBranch(event)">
            <div class="space-y-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Branch Name *</label>
                <input type="text" id="newBranchName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g., Data Science Engineering">
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Branch ID *</label>
                <input type="text" id="newBranchId" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g., CSE, DS, AIML">
                <p class="text-xs text-gray-500 mt-1">Enter a unique branch code identifier</p>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Icon</label>
                <div class="flex items-center gap-4 mb-3">
                  <label class="inline-flex items-center text-sm">
                    <input type="radio" name="iconSource" value="browser" id="iconSourceBrowser" checked onchange="setIconSource('browser')" class="mr-2"> Browser
                  </label>
                  <label class="inline-flex items-center text-sm">
                    <input type="radio" name="iconSource" value="file" id="iconSourceFile" onchange="setIconSource('file')" class="mr-2"> Upload
                  </label>
                  <div id="iconUploadControls" class="ml-auto hidden">
                    <button type="button" onclick="document.getElementById('iconFileInput').click()" class="px-3 py-2 border rounded text-sm">Choose file</button>
                    <input type="file" id="iconFileInput" accept="image/*" class="hidden" onchange="handleIconFileUpload(event)">
                  </div>
                </div>
                <div id="iconGridContainer">
                <div class="grid grid-cols-6 gap-2 mb-3">
                  <button type="button" onclick="selectIcon(this, 'fas fa-graduation-cap')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-graduation-cap text-blue-600"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-atom')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-atom text-green-600"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-microscope')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-microscope text-purple-600"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-chart-line')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-chart-line text-red-600"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-rocket')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-rocket text-orange-600"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-satellite')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-satellite text-teal-600"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-tools')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-tools text-gray-600"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-cube')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-cube text-indigo-600"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-leaf')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-leaf text-green-500"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-water')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-water text-blue-500"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-fire')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-fire text-red-500"></i>
                  </button>
                  <button type="button" onclick="selectIcon(this, 'fas fa-lightbulb')" class="icon-btn p-2 border border-gray-300 rounded hover:bg-blue-50 hover:border-blue-500">
                    <i class="fas fa-lightbulb text-yellow-500"></i>
                  </button>
                </div>
                </div>
                <div id="iconFilePreview" class="mt-2 hidden">
                  <div class="flex items-center gap-3">
                    <img id="iconPreviewImg" src="" class="w-10 h-10 rounded-md border" alt="Icon preview">
                    <div class="text-sm text-gray-600">Uploaded icon will be used for the branch</div>
                  </div>
                </div>
                <input type="hidden" id="selectedIcon" value="fas fa-graduation-cap">
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Color Theme</label>
                <div class="grid grid-cols-8 gap-2">
                  <button type="button" onclick="selectColor(this, 'blue')" class="color-btn w-8 h-8 rounded-full bg-blue-500 border-2 border-transparent hover:border-gray-400 selected" title="Blue"></button>
                  <button type="button" onclick="selectColor(this, 'green')" class="color-btn w-8 h-8 rounded-full bg-green-500 border-2 border-transparent hover:border-gray-400" title="Green"></button>
                  <button type="button" onclick="selectColor(this, 'purple')" class="color-btn w-8 h-8 rounded-full bg-purple-500 border-2 border-transparent hover:border-gray-400" title="Purple"></button>
                  <button type="button" onclick="selectColor(this, 'red')" class="color-btn w-8 h-8 rounded-full bg-red-500 border-2 border-transparent hover:border-gray-400" title="Red"></button>
                  <button type="button" onclick="selectColor(this, 'yellow')" class="color-btn w-8 h-8 rounded-full bg-yellow-500 border-2 border-transparent hover:border-gray-400" title="Yellow"></button>
                  <button type="button" onclick="selectColor(this, 'indigo')" class="color-btn w-8 h-8 rounded-full bg-indigo-500 border-2 border-transparent hover:border-gray-400" title="Indigo"></button>
                  <button type="button" onclick="selectColor(this, 'pink')" class="color-btn w-8 h-8 rounded-full bg-pink-500 border-2 border-transparent hover:border-gray-400" title="Pink"></button>
                  <button type="button" onclick="selectColor(this, 'teal')" class="color-btn w-8 h-8 rounded-full bg-teal-500 border-2 border-transparent hover:border-gray-400" title="Teal"></button>
                </div>
                <input type="hidden" id="selectedColor" value="blue">
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Estimated Students</label>
                <input type="number" id="newBranchStudents" min="1" value="100" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="100">
              </div>
            </div>
            
            <div class="flex space-x-3 mt-6">
              <button type="button" onclick="closeAddBranchModal()" class="flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium">
                Cancel
              </button>
              <button type="submit" class="flex-1 bg-gradient-to-r from-green-600 to-blue-600 text-white px-4 py-3 rounded-lg font-medium hover:from-green-700 hover:to-blue-700">
                Add Branch
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Delete Branch Confirmation Modal -->
    <div id="deleteBranchModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
      <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden">
        <!-- Modal Header -->
        <div class="bg-gradient-to-r from-red-600 to-orange-600 text-white p-6">
          <div class="flex items-center justify-between">
            <h3 class="text-xl font-bold flex items-center">
              <i class="fas fa-exclamation-triangle mr-3"></i>
              Confirm Deletion
            </h3>
            <button onclick="closeDeleteBranchModal()" class="text-white hover:text-gray-200 transition-colors">
              <i class="fas fa-times text-xl"></i>
            </button>
          </div>
        </div>
        
        <!-- Modal Content -->
        <div class="p-6">
          <div class="text-center mb-6">
            <div class="bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-trash-alt text-red-600 text-2xl"></i>
            </div>
            <h4 class="text-lg font-semibold text-gray-800 mb-2">Delete Branch</h4>
            <p class="text-gray-600">Are you sure you want to delete <span id="deleteBranchName" class="font-semibold text-red-600"></span>?</p>
            <p class="text-sm text-gray-500 mt-2">This action cannot be undone.</p>
          </div>
          
          <div class="flex space-x-3">
            <button type="button" onclick="closeDeleteBranchModal()" class="flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium">
              Cancel
            </button>
            <button type="button" onclick="confirmDeleteBranch()" class="flex-1 bg-gradient-to-r from-red-600 to-red-700 text-white px-4 py-3 rounded-lg font-medium hover:from-red-700 hover:to-red-800">
              <i class="fas fa-trash-alt mr-2"></i>
              Delete
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Year Selection Section -->
    <section id="yearSelection" class="section hidden">
      <div class="py-12 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-12">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">Select Academic Year</h2>
            <p class="text-xl text-gray-600" id="selectedBranch">Computer Science Engineering</p>
          </div>
          <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6" id="yearCards">
            <!-- Year cards will be populated by JavaScript -->
          </div>
        </div>
      </div>
    </section>

    <!-- Class Information Customization Section -->
    <section id="classCustomization" class="section hidden">
      <div class="py-12 bg-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-8">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">Class Information Setup</h2>
            <p class="text-xl text-gray-600" id="selectedClassDetails">Computer Science Engineering - 1st Year</p>
            <p class="text-gray-500 mt-2">Configure general information that will appear on all hall tickets for this class</p>
          </div>
          
          <div class="grid lg:grid-cols-2 gap-8">
            <!-- Class Information Form -->
            <div class="bg-white rounded-xl shadow-lg p-6">
              <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                <i class="fas fa-info-circle mr-3 text-blue-600"></i>General Class Information
              </h3>
              
              <div class="space-y-6">
                <!-- Exam Details -->
                <div class="border-b border-gray-200 pb-6">
                  <h4 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                    <i class="fas fa-calendar-alt mr-2 text-green-600"></i>Examination Details
                  </h4>
                  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Examination Type</label>
                      <div class="flex items-center gap-2">
                      <select id="examType" class="form-select">
                        <option value="mid-term">Mid Term Examination</option>
                        <option value="end-term">End Term Examination</option>
                        <option value="practical">Practical Examination</option>
                        <option value="internal">Internal Assessment</option>
                        <option value="viva">Viva Examination</option>
                        <option value="project">Project Evaluation</option>
                        <option value="other">Other (Add custom)</option>
                      </select>
                      <button id="deleteExamTypeBtn" type="button" class="btn btn-danger hidden" title="Delete selected custom exam type">Delete</button>
                      </div>
                      <div id="customExamTypeRow" class="mt-2 hidden">
                        <div class="flex gap-2">
                          <input type="text" id="customExamTypeInput" class="form-input" placeholder="Enter custom exam type">
                          <button onclick="addCustomExamType()" class="btn btn-primary">Add</button>
                        </div>
                      </div>
                      <div id="manageCustomExamTypes" class="mt-3 hidden">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Manage custom exam types</label>
                        <div id="customExamList" class="space-y-2 text-sm text-gray-700"></div>
                      </div>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Academic Session</label>
                      <input type="text" id="academicSession" class="form-input" placeholder="2024-2025" value="2024-2025">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Semester</label>
                      <select id="semester" class="form-select">
                        <option value="1st">1st Semester</option>
                        <option value="2nd">2nd Semester</option>
                        <option value="3rd">3rd Semester</option>
                        <option value="4th">4th Semester</option>
                        <option value="5th">5th Semester</option>
                        <option value="6th">6th Semester</option>
                        <option value="7th">7th Semester</option>
                        <option value="8th">8th Semester</option>
                      </select>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Exam Month/Year</label>
                      <input type="text" id="examMonthYear" class="form-input" placeholder="June/July 2025" value="June/July 2025">
                    </div>
                  </div>
                </div>
                
                <!-- Center and Timing Details -->
                <div class="border-b border-gray-200 pb-6">
                  <h4 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                    <i class="fas fa-map-marker-alt mr-2 text-red-600"></i>Center & Timing
                  </h4>
                  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Exam Center Code</label>
                      <input type="text" id="centerCode" class="form-input" placeholder="GN001" value="GN001">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Center Name</label>
                      <input type="text" id="centerName" class="form-input" placeholder="Guru Nanak Dev Engineering College">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Exam Time</label>
                      <input type="text" id="examTime" class="form-input" placeholder="10:00 AM - 1:00 PM" value="10:00 AM - 1:00 PM">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Duration</label>
                      <input type="text" id="examDuration" class="form-input" placeholder="3 Hours" value="3 Hours">
                    </div>
                  </div>
                </div>
                
                <!-- Additional Instructions -->
                <div>
                  <h4 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                    <i class="fas fa-exclamation-triangle mr-2 text-orange-600"></i>Instructions
                  </h4>
                  <div class="space-y-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Special Instructions</label>
                      <textarea id="specialInstructions" class="form-input" rows="3" placeholder="Enter any special instructions for this examination...">• Report to examination center 30 minutes before exam time
• Carry valid photo ID proof along with this hall ticket
• Mobile phones and electronic devices are strictly prohibited</textarea>
                    </div>
                    <!-- Contact fields removed as per request -->
                  </div>
                </div>
              </div>
              
              <div class="mt-8 flex gap-3">
                <button onclick="saveClassInfo()" class="btn btn-success flex-1">
                  <i class="fas fa-save mr-2"></i>Save Class Information
                </button>
                <button onclick="proceedToDataEntry()" class="btn btn-primary flex-1">
                  <i class="fas fa-arrow-right mr-2"></i>Continue to Student Data
                </button>
              </div>
            </div>
            
            <!-- Class Information Preview -->
            <div class="bg-white rounded-xl shadow-lg p-6">
              <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                <i class="fas fa-eye mr-3 text-purple-600"></i>Class Information Preview
              </h3>
              
              <div id="classInfoPreview" class="border-2 border-gray-300 rounded-lg p-6 bg-gray-50 min-h-96">
                <!-- Preview will be generated here -->
              </div>
              
              <div class="mt-4 text-center">
                <button onclick="updateClassPreview()" class="btn btn-secondary">
                  <i class="fas fa-sync-alt mr-2"></i>Update Preview
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Student Data Entry Section -->
    <section id="dataEntry" class="section hidden">
      <div class="py-12 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-8">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">Student Data Entry</h2>
            <p class="text-xl text-gray-600" id="selectedDetails">Computer Science Engineering - 1st Year</p>
          </div>
          <!-- Bulk Subjects Apply-All Section -->
          <div class="bg-gradient-to-br from-white via-blue-50/30 to-purple-50/30 rounded-2xl shadow-xl border border-blue-100 p-8 mb-8 relative overflow-hidden">
            <!-- Decorative background elements -->
            <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full -translate-y-8 translate-x-8"></div>
            <div class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-indigo-400/10 to-blue-400/10 rounded-full translate-y-4 -translate-x-4"></div>
            
            <!-- Header Section -->
            <div class="text-center mb-8 relative z-10">
              <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-4">
                <i class="fas fa-layer-group text-white text-2xl"></i>
              </div>
              <h3 class="text-3xl font-bold text-gray-800 mb-3">
                Bulk Subject Management
              </h3>
              <p class="text-gray-600 text-lg max-w-2xl mx-auto leading-relaxed">
                Configure subjects with detailed scheduling information that will be applied to all students at once
              </p>
              <div class="w-32 h-1.5 bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-500 rounded-full mx-auto mt-4"></div>
            </div>
            
            <!-- Subject Configuration Panel -->
            <div id="bulkSubjectsSection" class="bg-white/80 backdrop-blur-sm border-2 border-blue-200/50 rounded-2xl p-6 shadow-lg relative z-10">
              <!-- Panel Header -->
              <div class="flex items-center justify-between mb-6 pb-4 border-b border-gray-200">
                <div class="flex items-center">
                  <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center mr-4 shadow-md">
                    <i class="fas fa-magic text-white text-lg"></i>
                  </div>
                  <div>
                    <h4 class="text-xl font-bold text-gray-800">Subject Configuration</h4>
                    <p class="text-sm text-gray-500">Minimum 5 subjects required</p>
                  </div>
                </div>
                <div class="flex gap-3">
                  <button type="button" class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-emerald-500 to-green-600 text-white text-sm font-semibold rounded-xl hover:from-emerald-600 hover:to-green-700 shadow-lg hover:shadow-emerald-200 transition-all duration-200 transform hover:scale-105" onclick="addBulkSubjectRow()">
                    <i class="fas fa-plus mr-2"></i>Add Subject
                  </button>
                  <button type="button" class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-red-500 to-rose-600 text-white text-sm font-semibold rounded-xl hover:from-red-600 hover:to-rose-700 shadow-lg hover:shadow-red-200 transition-all duration-200 transform hover:scale-105" onclick="removeBulkSubjectRow()">
                    <i class="fas fa-minus mr-2"></i>Remove
                  </button>
                </div>
              </div>


              <!-- Subject Rows Container -->
              <div id="bulkSubjectsRows" class="space-y-3 mb-6">
                <!-- Rows inserted by JS -->
              </div>

              <!-- Action Buttons -->
              <div class="flex flex-col sm:flex-row gap-4 items-center justify-between pt-6 border-t border-gray-200">
                <div class="flex items-center text-sm text-gray-600">
                  <i class="fas fa-info-circle text-blue-500 mr-2"></i>
                  <span>Configure all subjects here, then apply to all students with one click</span>
                </div>
                <div class="flex gap-3">
                  <button type="button" class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-semibold rounded-xl hover:from-gray-600 hover:to-gray-700 shadow-lg transition-all duration-200" onclick="clearBulkSubjectsData()">
                    <i class="fas fa-eraser mr-2"></i>Clear All
                  </button>
                  <button type="button" class="inline-flex items-center px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold text-lg rounded-xl hover:from-blue-700 hover:to-purple-700 shadow-xl hover:shadow-blue-200 transition-all duration-200 transform hover:scale-105" onclick="applyBulkSubjectsToAll()">
                    <i class="fas fa-magic mr-3"></i>Apply to All Students
                    <i class="fas fa-arrow-right ml-2"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Student Information Section -->
          <div class="bg-white rounded-xl shadow-lg p-6">
            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4">
              <h3 class="text-xl sm:text-2xl font-bold text-gray-800">Student Information</h3>
              <div class="button-group sm:flex sm:flex-row sm:gap-2">
                <input type="file" id="excelImport" accept=".xlsx,.xls,.csv" class="hidden" onchange="handleFileImport(event)">
                <button onclick="document.getElementById('excelImport').click()" class="btn btn-primary text-sm">
                  <i class="fas fa-file-excel"></i><span class="hidden sm:inline ml-2">Import Excel/CSV</span><span class="sm:hidden ml-2">Import</span>
                </button>
                <button onclick="exportToExcel()" class="btn" style="background-color: #7c3aed; color: white;">
                  <i class="fas fa-download"></i><span class="hidden sm:inline ml-2">Export Excel</span><span class="sm:hidden ml-2">Export</span>
                </button>
                <div class="flex gap-1">
                  <button onclick="addRow()" class="btn btn-success text-sm">
                    <i class="fas fa-plus"></i><span class="ml-1">Row</span>
                  </button>
                  <button onclick="removeRow()" class="btn btn-danger text-sm">
                    <i class="fas fa-minus"></i><span class="ml-1">Row</span>
                  </button>
                </div>
                <div class="flex gap-1">
                  <button onclick="addColumn()" class="btn" style="background-color: #059669; color: white;" title="Add Subject Column">
                    <i class="fas fa-columns"></i><span class="ml-1">+Col</span>
                  </button>
                  <button onclick="removeColumn()" class="btn" style="background-color: #dc2626; color: white;" title="Remove Subject Column">
                    <i class="fas fa-columns"></i><span class="ml-1">-Col</span>
                  </button>
                </div>
              </div>
            </div>

            <div class="table-container">
              <table class="excel-table" id="studentTable">
                <thead>
                  <tr class="excel-header">
                    <th class="excel-cell">S.No</th>
                    <th class="excel-cell">USN</th>
                    <th class="excel-cell">Student Name</th>
                    <th class="excel-cell">Admission No</th>
                    <th class="excel-cell">Photo</th>
                    <th class="excel-cell">Subject 1</th>
                    <th class="excel-cell">Code 1</th>
                    <th class="excel-cell">Subject 2</th>
                    <th class="excel-cell">Code 2</th>
                    <th class="excel-cell">Subject 3</th>
                    <th class="excel-cell">Code 3</th>
                    <th class="excel-cell">Subject 4</th>
                    <th class="excel-cell">Code 4</th>
                    <th class="excel-cell">Subject 5</th>
                    <th class="excel-cell">Code 5</th>
                  </tr>
                </thead>
                <tbody id="studentTableBody">
                  <!-- Table rows will be populated by JavaScript -->
                </tbody>
              </table>
            </div>
            <!-- Mobile table scroll indicator -->
            <div class="block sm:hidden text-center mt-2 text-sm text-gray-500">
              <i class="fas fa-arrows-alt-h mr-1"></i>Scroll horizontally to see all columns
            </div>
            <div class="mt-6 text-center">
              <button onclick="proceedToGeneration()" class="bg-blue-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-blue-700">
                Proceed to Hall Ticket Generation
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Hall Ticket Generator Section -->
    <section id="generator" class="section hidden">
      <div class="py-12 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-8">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">Hall Ticket Customization</h2>
            <p class="text-xl text-gray-600">Customize your hall ticket template</p>
          </div>
          
          <div class="grid lg:grid-cols-2 gap-6 lg:gap-8">
            <!-- Customization Panel -->
            <div class="bg-white rounded-xl shadow-lg p-4 sm:p-6">
              <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6">🎨 General Class Information</h3>
              <p class="text-gray-600 mb-6">Configure general information that applies to all hall tickets for this class</p>
              
              <!-- Institution Details -->
              <div class="mb-6 border-b border-gray-200 pb-6">
                <h4 class="text-lg font-semibold text-gray-700 mb-3 flex items-center">
                  <i class="fas fa-university mr-2 text-blue-600"></i>Institution Details
                </h4>
                <div class="space-y-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Institution Name</label>
                    <input type="text" id="institutionName" class="form-input" placeholder="Enter institution name">
                  </div>
                  <!-- College/Institution Logo -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                      <i class="fas fa-school mr-1 text-blue-600"></i>College/Institution Logo <span class="text-xs text-gray-500">(Optional)</span>
                    </label>
                    <input type="file" id="logoUpload" accept="image/*,.jpg,.jpeg,.png,.gif,.webp,.bmp,.tiff,.svg" class="form-input" onchange="previewLogo(event)">
                    <p class="text-xs text-gray-500 mt-1">Appears on left side • Recommended: 200x200px, PNG/JPG format</p>
                    
                    <!-- College Logo Preview -->
                    <div id="logoPreview" class="mt-3 hidden">
                      <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-gray-700">College Logo Preview:</span>
                        <button onclick="removeLogo()" class="text-red-600 hover:text-red-800 text-sm">
                          <i class="fas fa-times mr-1"></i>Remove
                        </button>
                      </div>
                      <div class="border-2 border-gray-200 rounded-lg p-3 bg-gray-50 flex items-center justify-center">
                        <img id="logoPreviewImg" src="" alt="College Logo" class="max-h-20 max-w-32 object-contain">
                      </div>
                    </div>
                  </div>

                  <!-- University Details Section -->
                  <div class="bg-blue-50 rounded-lg p-4 mt-4">
                    <h5 class="text-md font-semibold text-blue-800 mb-3 flex items-center">
                      <i class="fas fa-university mr-2"></i>University Information <span class="text-xs text-blue-600 font-normal">(Optional)</span>
                    </h5>
                    

                    <!-- University Logo -->
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-flag mr-1 text-blue-600"></i>University/Government Logo
                      </label>
                      <input type="file" id="universityLogoUpload" accept="image/*,.jpg,.jpeg,.png,.gif,.webp,.bmp,.tiff,.svg" class="form-input bg-white" onchange="previewUniversityLogo(event)">
                      <p class="text-xs text-gray-500 mt-1">Appears on right side • Recommended: Government emblem or university logo</p>
                      
                      <!-- University Logo Preview -->
                      <div id="universityLogoPreview" class="mt-3 hidden">
                        <div class="flex items-center justify-between mb-2">
                          <span class="text-sm font-medium text-gray-700">University Logo Preview:</span>
                          <button onclick="removeUniversityLogo()" class="text-red-600 hover:text-red-800 text-sm">
                            <i class="fas fa-times mr-1"></i>Remove
                          </button>
                        </div>
                        <div class="border-2 border-gray-200 rounded-lg p-3 bg-white flex items-center justify-center">
                          <img id="universityLogoPreviewImg" src="" alt="University Logo" class="max-h-20 max-w-32 object-contain">
                        </div>
                      </div>
                    </div>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Exam Title</label>
                    <input type="text" id="examTitle" class="form-input" placeholder="Mid Term Examination">
                  </div>
                </div>
              </div>
              
              <!-- Typography & Layout -->
              <div class="mb-6 border-b border-gray-200 pb-6">
                <h4 class="text-lg font-semibold text-gray-700 mb-3 flex items-center">
                  <i class="fas fa-font mr-2 text-purple-600"></i>Typography & Layout
                </h4>
                <div class="space-y-4">
                  <div class="grid grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Font Family</label>
                      <select id="fontFamily" class="form-select">
                        <option value="helvetica">Helvetica</option>
                        <option value="times">Times New Roman</option>
                        <option value="courier">Courier</option>
                      </select>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Font Size</label>
                      <select id="fontSize" class="form-select">
                        <option value="small">Small</option>
                        <option value="medium" selected>Medium</option>
                        <option value="large">Large</option>
                      </select>
                    </div>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Layout Style</label>
                    <select id="layoutStyle" class="form-select">
                      <option value="standard" selected>Standard VTU Style</option>
                      <option value="compact">Compact Layout</option>
                      <option value="detailed">Detailed Layout</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <!-- Colors & Design -->
              <div class="mb-6 border-b border-gray-200 pb-6">
                <h4 class="text-lg font-semibold text-gray-700 mb-3 flex items-center">
                  <i class="fas fa-palette mr-2 text-red-600"></i>Colors & Design
                </h4>
                <div class="space-y-4">
                  <div class="grid grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Primary Color</label>
                      <input type="color" id="primaryColor" value="#3B82F6" class="form-input h-12">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Secondary Color</label>
                      <input type="color" id="secondaryColor" value="#1F2937" class="form-input h-12">
                    </div>
                  </div>
                  <div class="grid grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Border Style</label>
                      <select id="borderStyle" class="form-select">
                        <option value="solid" selected>Solid</option>
                        <option value="double">Double</option>
                        <option value="dashed">Dashed</option>
                        <option value="dotted">Dotted</option>
                      </select>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">Border Width</label>
                      <select id="borderWidth" class="form-select">
                        <option value="1">Thin</option>
                        <option value="2" selected>Medium</option>
                        <option value="3">Thick</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Content Options -->
              <div class="mb-6 border-b border-gray-200 pb-6">
                <h4 class="text-lg font-semibold text-gray-700 mb-3 flex items-center">
                  <i class="fas fa-list mr-2 text-yellow-600"></i>Content Options
                </h4>
                <div class="space-y-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Footer Text</label>
                    <input type="text" id="footerText" class="form-input" value="This is a computer-generated hall ticket and does not require signature">
                  </div>
                  <div class="grid grid-cols-2 gap-4">
                    <div class="flex items-center space-x-2">
                      <input type="checkbox" id="showSignatureArea" checked class="rounded">
                      <label for="showSignatureArea" class="text-sm text-gray-700">Show signature areas</label>
                    </div>
                    <div class="flex items-center space-x-2">
                      <input type="checkbox" id="showQRCode" class="rounded">
                      <label for="showQRCode" class="text-sm text-gray-700">Add QR code</label>
                    </div>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Paper Size</label>
                    <select id="paperSize" class="form-select">
                      <option value="a4" selected>A4 (210 x 297 mm)</option>
                      <option value="letter">Letter (8.5 x 11 in)</option>
                      <option value="legal">Legal (8.5 x 14 in)</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <!-- Action Buttons -->
              <div class="space-y-3">
                <button onclick="updatePreview()" class="btn btn-primary w-full text-base sm:text-lg">
                  <i class="fas fa-sync-alt mr-2"></i>Update Preview
                </button>
                <button onclick="proceedToClassInfo()" class="btn btn-success w-full text-base">
                  <i class="fas fa-arrow-right mr-2"></i>Continue to Class Information
                </button>
              </div>
            </div>
            
            <!-- Preview Panel -->
            <div class="bg-white rounded-xl shadow-lg p-4 sm:p-6">
              <h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6">Hall Ticket Preview</h3>
              <div class="preview-container">
                <div id="hallTicketPreview" class="hall-ticket-preview border-2 border-gray-300 rounded-lg p-4 sm:p-6 bg-white overflow-hidden">
                  <!-- Hall ticket preview will be generated here -->
                </div>
              </div>
              <div class="mt-6 space-y-3">
                <!-- Student Selection for Individual Hall Ticket -->
                <div class="mb-4">
                  <label class="block text-sm font-medium text-gray-700 mb-2">Select Student for Individual Hall Ticket:</label>
                  <select id="studentSelect" class="form-select">
                    <option value="">Select a student...</option>
                  </select>
                </div>
                <div class="button-group">
                  <!-- Only allow preview viewing here (no direct download or bulk generation buttons) -->
                  <button onclick="viewPreviewPDF()" class="btn text-sm sm:text-base" style="background-color: #7c3aed; color: white;">
                    <i class="fas fa-eye mr-2"></i>View Preview PDF
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-4 gap-8">
          <div>
            <div class="flex items-center space-x-3 mb-4">
              <div class="bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg">
                <i class="fas fa-graduation-cap text-white text-xl"></i>
              </div>
              <h3 class="text-xl font-bold">EduConnect</h3>
            </div>
            <p class="text-gray-400">Professional hall ticket generation made easy and efficient.</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="#" class="hover:text-white transition-colors">Home</a></li>
              <li><a href="#" class="hover:text-white transition-colors">Engineering</a></li>
              <li><a href="#" class="hover:text-white transition-colors">Generator</a></li>
              <li><a href="#" class="hover:text-white transition-colors">Support</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Features</h4>
            <ul class="space-y-2 text-gray-400">
              <li>Custom Templates</li>
              <li>Bulk Generation</li>
              <li>PDF Export</li>
              <li>Secure Storage</li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Contact</h4>
            <p class="text-gray-400 mb-2">Email: <a href="mailto:arshadpatel1431@gmail.com" class="hover:text-white">arshadpatel1431@gmail.com</a></p>
            <p class="text-gray-400 mb-4">Phone: <a href="tel:+916361960662" class="hover:text-white">+91-6361960662</a></p>
            <div class="flex space-x-4">
              <a href="#" class="text-gray-400 hover:text-white transition-colors">
                <i class="fab fa-facebook text-xl"></i>
              </a>
              <a href="#" class="text-gray-400 hover:text-white transition-colors">
                <i class="fab fa-twitter text-xl"></i>
              </a>
              <a href="#" class="text-gray-400 hover:text-white transition-colors">
                <i class="fab fa-linkedin text-xl"></i>
              </a>
            </div>
          </div>
        </div>
        <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
          <p><span class="maximus-credit">Created by MAXIMUS Consultancy service</span></p>
        </div>
      </div>
    </footer>

    <!-- JavaScript -->  
    <script src="script.js"></script>
    <!-- Learn More Modal -->
    <div id="learnMoreModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center p-4">
      <div class="bg-white rounded-2xl shadow-2xl max-w-3xl w-full overflow-auto max-h-[90vh]">
        <div class="p-6 border-b flex items-center justify-between">
          <h3 class="text-xl font-bold">About EduConnect</h3>
          <button onclick="closeLearnMore()" class="text-gray-600 hover:text-gray-800"><i class="fas fa-times"></i></button>
        </div>
        <div class="p-6 space-y-4">
          <h4 class="text-lg font-semibold">About this website</h4>
          <p class="text-gray-600">EduConnect is a lightweight hall ticket generator for educational institutions. Create, customize, and export professional-looking hall tickets for students. The tool supports Excel/CSV import, bulk generation, and a VTU-style two-copy layout per page.</p>

          <h4 class="text-lg font-semibold">Features</h4>
          <ul class="list-disc ml-6 text-gray-700">
            <li>Import student data from Excel/CSV with flexible header detection</li>
            <li>Customizable hall ticket template (institution, logos, colors, layout)</li>
            <li>VTU-style PDF export with two copies per A4 page</li>
            <li>Per-subject Date and Time fields included in PDFs</li>
            <li>Preview mode that opens the PDF in a new tab (view-only)</li>
            <li>Simple UI to add/remove subject columns and rows</li>
          </ul>

          <h4 class="text-lg font-semibold">How to use</h4>
          <ol class="list-decimal ml-6 text-gray-700">
            <li>Go to Student Information and import your Excel/CSV or add rows manually.</li>
            <li>Customize institution details and layout in Hall Ticket Customization.</li>
            <li>Use Preview to view the PDF and Final Generation to export bulk or individual tickets.</li>
          </ol>
        </div>
        <div class="p-6 border-t text-right">
          <button onclick="closeLearnMore()" class="btn btn-primary">Close</button>
        </div>
        <div class="p-4 text-sm text-gray-500 border-t bg-gray-50">
          <div class="max-w-3xl mx-auto text-center">
            <div class="mb-1">EduConnect — Hall Ticket Generator</div>
            <div>Questions or feedback? <a href="mailto:arshadpatel1431@gmail.com" class="text-blue-600">arshadpatel1431@gmail.com</a> · <a href="tel:+916361960662" class="text-blue-600">+91 6361960662</a></div>
            <div class="mt-2 text-xs"><span class="maximus-credit">Created by MAXIMUS Consultancy service</span></div>
          </div>
        </div>
      </div>
    </div>
    <!-- Final Generation Section -->
    <div id="finalGeneration" class="section hidden">
      <button id="backButton" class="btn btn-secondary mb-4" onclick="goBack()"><i class="fas fa-arrow-left mr-2"></i>Back</button>
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="max-w-6xl mx-auto">
          <!-- Header -->
          <div class="text-center mb-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Generate Hall Tickets</h2>
            <p class="text-gray-600">Generate individual or bulk hall tickets for your students</p>
            <div class="mt-3">
              <button onclick="openLearnMore()" class="text-sm text-blue-600 hover:underline">About EduConnect</button>
            </div>
            <div class="text-sm text-blue-600 bg-blue-50 px-4 py-2 rounded-lg inline-block mt-2">
              <span id="finalGenerationDetails">Ready to generate hall tickets</span>
            </div>
          </div>
          
          <!-- Generation Options -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Individual Generation -->
            <div class="bg-white rounded-xl shadow-lg p-6">
              <div class="text-center mb-6">
                <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                  <i class="fas fa-user text-2xl text-blue-600"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Individual Generation</h3>
                <p class="text-gray-600">Generate hall ticket for a single student</p>
              </div>
              
              <div class="space-y-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Select Student</label>
                  <select id="individualStudentSelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <option value="">Choose a student...</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Select Second Student (for 2-per-page)</label>
                  <select id="secondStudentSelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <option value="">Choose a student...</option>
                  </select>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                  <button onclick="generateIndividualTicket()" class="btn btn-primary w-full">
                    <i class="fas fa-download mr-2"></i>Generate Individual
                  </button>
                  <button onclick="generateTwoPerPageIndividual()" class="btn btn-primary w-full">
                    <i class="fas fa-columns mr-2"></i>2 Students / Page
                  </button>
                </div>
                <div class="text-xs text-gray-500">Tip: Use the second student selector to place two different students on the same page.</div>
              </div>
            </div>
            
            <!-- Bulk Generation -->
            <div class="bg-white rounded-xl shadow-lg p-6">
              <div class="text-center mb-6">
                <div class="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                  <i class="fas fa-users text-2xl text-green-600"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Bulk Generation</h3>
                <p class="text-gray-600">Generate hall tickets for all students</p>
              </div>
              
              <div class="space-y-4">
                <div class="bg-gray-50 p-4 rounded-lg">
                  <div class="flex items-center justify-between">
                    <span class="text-sm font-medium text-gray-700">Total Students:</span>
                    <span id="totalStudentsCount" class="text-lg font-bold text-blue-600">0</span>
                  </div>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                  <button onclick="generateAllTickets()" class="btn btn-success w-full" title="Creates one PDF with all students (one ticket per student)">
                    <i class="fas fa-file-pdf mr-2"></i>Generate All
                  </button>
                  <button onclick="generateTwoPerPageBulk()" class="btn btn-success w-full" title="Pairs students sequentially and places two tickets per page">
                    <i class="fas fa-th-large mr-2"></i>2 Students / Page
                  </button>
                </div>
                <div class="text-xs text-gray-500">Tip: Bulk pairing will pair students in the order they appear; if odd, the last page will contain a single ticket.</div>
              </div>
            </div>
          </div>
          
          <!-- Preview Section -->
          <div class="mt-12">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">Hall Ticket Preview</h3>
            <div class="bg-white rounded-xl shadow-lg p-6">
              <div class="overflow-auto" style="max-height: 600px;">
                <div id="finalHallTicketPreview" class="mx-auto" style="max-width: 800px;">
                  <!-- Preview will be loaded here -->
                </div>
              </div>
              <!-- Preview actions moved here for quick access -->
              <div class="flex flex-col sm:flex-row justify-center gap-4 mt-6">
                <button onclick="downloadPreviewPDF()" class="btn btn-outline">
                  <i class="fas fa-eye mr-2"></i>Download Preview
                </button>
                <button onclick="goBack()" class="btn btn-secondary">
                  <i class="fas fa-arrow-left mr-2"></i>Go Back
                </button>
              </div>
            </div>
          </div>
          
        </div>
      </div>
    </div>
    <!-- Site footer -->
    <footer class="w-full bg-white border-t mt-8">
      <div class="container mx-auto px-4 py-6 text-center text-sm text-gray-600">
        <div>EduConnect — Lightweight Hall Ticket Generator</div>
  <div class="mt-1">Made with jsPDF · <a href="#" class="text-blue-600">Documentation</a> · <a href="mailto:arshadpatel1431@gmail.com" class="text-blue-600">Contact</a> · <a href="tel:+916361960662" class="text-blue-600">+91 6361960662</a></div>
  <div class="mt-2"><span class="maximus-credit">Created by MAXIMUS Consultancy service</span></div>
      </div>
    </footer>
    <script>
      // fill year placeholders
      (function(){
        var y = new Date().getFullYear();
        var a = document.getElementById('currentYear');
        if(a) a.textContent = y;
        var b = document.getElementById('siteFooterYear');
        if(b) b.textContent = y;
        if(!window.openLearnMore) {
          window.openLearnMore = function(){ document.getElementById('learnMoreModal')?.classList.remove('hidden'); };
        }
        if(!window.closeLearnMore) {
          window.closeLearnMore = function(){ document.getElementById('learnMoreModal')?.classList.add('hidden'); };
        }
      })();
    </script>

</body>
</html>
